{"version":3,"sources":["redux/actions/design.js","components/Designs/elements/Rectangle.jsx","components/Designs/LeftSidebar.jsx","components/Designs/RightSidebar.jsx","components/Designs/DesignMain.jsx","components/Designs/Content.jsx"],"names":["require","actionType","fabric","Canvas","LeftSidebar","valGlobal","useGlobal","canvas","useDispatch","className","role","aria-label","type","onClick","circle","Circle","top","left","radius","stroke","strokeWidth","fill","scaleY","add","renderAll","addCircle","rectangle","Rect","width","height","addRectangle","triangle","Triangle","addTriangle","addtext","IText","fontSize","addText","Image","fromURL","img","set","scaleX","onChange","e","reader","FileReader","onload","event","imgInstance","src","target","result","readAsDataURL","files","addUploadImage","console","log","getActiveObject","on","obj","remove","getObjects","RightSidebar","canData","useEffect","get","Content","GlobalContext","setGlobal","can","$","backgroundColor","id","DesignMain","loginUser","useSelector","stare","userDetail","is_login","user_email","user_name","useState","g","canvasRef"],"mappings":"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","file":"static/js/5.20fe619b.chunk.js","sourcesContent":["const { actionType } = require(\"../constants/types\");\r\n\r\nexport const addCircle = (data) => {\r\n    return {\r\n        type: actionType.ADD_CIRCLE,\r\n        payload: data\r\n    }\r\n}\r\n\r\nexport const addRectangle = (data) => {\r\n    return {\r\n        type: actionType.ADD_RECTANGLE,\r\n        payload: data\r\n    }\r\n}\r\n\r\nexport const addLine = (data) => {\r\n    return {\r\n        type: actionType.ADD_LINE,\r\n        payload: data\r\n    }\r\n}\r\nexport const clearAll = () => {\r\n    return {\r\n        type: actionType.CLEAR_ALL\r\n    }\r\n}\r\n","import { fabric } from 'fabric';\r\n\r\nvar getCanvas; // global variable\r\nvar canvas = new fabric.Canvas('c');\r\n\r\nexport const Ractangle = val => {\r\n    const rect = new fabric.Rect(val);\r\n    return rect;\r\n}\r\n\r\nexport const Circle = val => {\r\n    const circle = new fabric.Circle(val);\r\n    return circle;\r\n}\r\n\r\nexport const Line = val => {\r\n    const line = new fabric.Line(val);\r\n    return line;\r\n}","import { useSelector, useDispatch } from \"react-redux\";\r\nimport { addCircle, addRectangle, addLine, clearAll } from \"../../redux/actions/design\";\r\n\r\nimport { fabric } from 'fabric';\r\nimport { addTriangle } from \"./Content1\";\r\nimport { useGlobal } from \"../config/global\";\r\n\r\n\r\n\r\nconst LeftSidebar = () => {\r\n    const { valGlobal } = useGlobal();\r\n    const dispatch = useDispatch();\r\n\r\n    //var getCanvas; // global variable\r\n    //  var canvas = new fabric.Canvas('c');\r\n    let canvas = valGlobal.canvas\r\n\r\n\r\n\r\n\r\n    const addTriangle = () => {\r\n        // console.log(\"triangle=>\", canvas)\r\n        const triangle = new fabric.Triangle({\r\n            width: 200,\r\n            height: 200,\r\n            fill: 'blue',\r\n            left: 50,\r\n            top: 300,\r\n        });\r\n        canvas.add(triangle);\r\n        canvas.renderAll();\r\n\r\n    }\r\n\r\n    const addCircle = () => {\r\n        const circle = new fabric.Circle({\r\n            top: 10,\r\n            left: 100,\r\n            radius: 100,\r\n            stroke: 'blue',\r\n            strokeWidth: 2,\r\n            fill: '#eef',\r\n            scaleY: 1,\r\n        });\r\n        canvas.add(circle);\r\n        canvas.renderAll();\r\n\r\n    }\r\n    const addRectangle = () => {\r\n        const rectangle = new fabric.Rect({\r\n            width: 200,\r\n            height: 200,\r\n            fill: 'green',\r\n            left: 300,\r\n            top: 300,\r\n        });\r\n        canvas.add(rectangle);\r\n        canvas.renderAll();\r\n    }\r\n\r\n    const clearAll = () => {\r\n        //canvas.clear()\r\n        canvas.remove(...canvas.getObjects());\r\n    }\r\n\r\n    const addText = () => {\r\n        const addtext = new fabric.IText('Hello Mor', { left: 30, top: 20, fill: '#000', fontSize: 30 });\r\n        canvas.add(addtext);\r\n        canvas.renderAll();\r\n    }\r\n\r\n    const addImage = () => {\r\n        let userImage = 'https://freshtrends.in/wp-content/uploads/2020/05/fresh-trends-logo.png';\r\n        fabric.Image.fromURL(userImage, function (img) {\r\n            img.set({\r\n                scaleX: 0.25,\r\n                scaleY: 0.25,\r\n                top: 200,\r\n                left: 50\r\n            });\r\n            canvas.add(img);\r\n            canvas.renderAll();\r\n        });\r\n    }\r\n\r\n\r\n    const deleteSelected = () => {\r\n        console.log(\"getActiveObject=>\", canvas.getActiveObject())\r\n        canvas.on('selection:cleared', function (obj) {\r\n            console.log(\"selection=>\", obj.target)\r\n        });\r\n        canvas.remove(canvas.getActiveObject());\r\n    }\r\n\r\n    const addUploadImage = (e) => {\r\n        var reader = new FileReader();\r\n        reader.onload = function (event) {\r\n            var img = new Image();\r\n            img.onload = function () {\r\n                var imgInstance = new fabric.Image(img, {\r\n                    scaleX: 0.2,\r\n                    scaleY: 0.2,\r\n                    // top: 0,\r\n                    // left: 0,\r\n                    // angle: 0,\r\n                    // hasBorders: false,\r\n                    // cornerSize: 0,\r\n                    // lockRotation: true\r\n                })\r\n                canvas.add(imgInstance);\r\n            }\r\n            img.src = event.target.result;\r\n        }\r\n        reader.readAsDataURL(e.target.files[0]);\r\n    }\r\n\r\n    const getEvents = (e) => {\r\n        console.log(\"getEvents=>\", e)\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <h1>LeftSidebar</h1>\r\n\r\n            <div>\r\n\r\n                <div className=\"btn-group\" role=\"group\" aria-label=\"Basic outlined example\">\r\n                    <button type=\"button\" onClick={() => addCircle()} className=\"btn btn-outline-primary\">Circle</button>\r\n                    <button type=\"button\" onClick={() => addRectangle()} className=\"btn btn-outline-primary\">Rectangle</button>\r\n                    <button type=\"button\" onClick={() => addTriangle()} className=\"btn btn-outline-primary\">Add Triangle</button>\r\n\r\n                </div>\r\n                <div className=\"btn-group\" role=\"group\" aria-label=\"Basic outlined example\">\r\n                    <button type=\"button\" onClick={() => addText()} className=\"btn btn-outline-primary\">Text</button>\r\n                    <button type=\"button\" onClick={() => addImage()} className=\"btn btn-outline-primary\">Add Image</button>\r\n\r\n                </div>\r\n                <input type=\"file\" onChange={(e) => addUploadImage(e)} className=\"btn btn-outline-primary\" />\r\n\r\n                <button type=\"button\" onClick={() => deleteSelected()} className=\"btn btn-outline-primary\">Delete Seleted</button>\r\n                <button type=\"button\" onClick={() => clearAll()} className=\"btn btn-outline-primary\">Clear All</button>\r\n\r\n                {/* <button type=\"button\" onClick={() => changeColor()} className=\"btn btn-outline-primary\">Change Color</button> */}\r\n\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default LeftSidebar;","import { fabric } from 'fabric';\r\nimport { useEffect } from 'react';\r\nimport { useGlobal } from '../config/global';\r\nimport { getCanvas } from '../common/CommonFunctions';\r\n//let canvas;\r\n\r\n// const RightSidebar = () => {\r\n//     return (\r\n//         <div>\r\n//             <h1>RightSidebar</h1>\r\n\r\n//         </div>\r\n//     );\r\n// };\r\n\r\n// export default RightSidebar;\r\n\r\nfunction RightSidebar({ ...props }) {\r\n\r\n    const { valGlobal } = useGlobal();\r\n    //let canvas = props.canvasRef\r\n    let canData = valGlobal.canvas\r\n\r\n    useEffect(() => {\r\n        if (canData !== null) {\r\n            canData.on({\r\n                'selection:created': () => {\r\n                    console.log(\"getActiveObject 000=>\", canData.getActiveObject())\r\n                    // canData.getActiveObject().set(\"fill\", 'yellow');\r\n                    // canData.renderAll();\r\n                }\r\n            })\r\n\r\n            canData.on({\r\n                'selection:cleared': () => {\r\n                    console.log(\"getActiveObject 111=>\", canData.getActiveObject())\r\n                }\r\n            })\r\n\r\n\r\n            canData.on({\r\n                'selection:updated': () => {\r\n                    console.log(\"getActiveObject 222=>\", canData.getActiveObject())\r\n                    //  canData.getActiveObject().set(\"fill\", 'yellow');\r\n                    // canData.renderAll();\r\n                }\r\n            })\r\n        }\r\n    }, [valGlobal])\r\n\r\n    // When a selection is being made\r\n    const changeColor = () => {\r\n        canData.getActiveObject().set(\"fill\", 'pink');\r\n\r\n        console.log(\"getActiveObject Type=>\", canData.getActiveObject().get('type'))\r\n        canData.renderAll();\r\n    }\r\n\r\n    const addTriangle = () => {\r\n\r\n        let canData = valGlobal.canvas\r\n        const triangle = new fabric.Triangle({\r\n            width: 200,\r\n            height: 200,\r\n            fill: 'blue',\r\n            left: 50,\r\n            top: 300,\r\n        });\r\n        canData.add(triangle);\r\n        canData.renderAll();\r\n\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <h1>RightSidebar</h1>\r\n            <button type=\"button\" onClick={() => addTriangle()} className=\"btn btn-outline-primary\">Add Triangle</button>\r\n            <button type=\"button\" onClick={() => changeColor()} className=\"btn btn-outline-primary\">Change Color</button>\r\n\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default RightSidebar;","import { useSelector } from \"react-redux\"\r\nimport { Redirect } from \"react-router-dom\"\r\nimport LeftSidebar from \"./LeftSidebar\"\r\nimport RigjhtSidebar from \"./RightSidebar\"\r\nimport { fabric } from 'fabric';\r\nimport { useEffect } from 'react';\r\nimport Content from './Content'\r\nimport Content1 from './Content1'\r\nimport { useState } from \"react\";\r\nimport { useGlobal } from \"../config/global\";\r\n\r\n\r\n\r\n\r\nlet canvas;\r\nconst DesignMain = ({ ...props }) => {\r\n\r\n    const { setGlobal } = useGlobal();\r\n\r\n    const loginUser = useSelector((stare) => stare.userDetail)\r\n    let { is_login, user_email, user_name } = loginUser\r\n    console.log(\"loginUser => \", is_login);\r\n\r\n    const [canvasData, setCanvasData] = useState(null)\r\n\r\n    // useEffect(() => {\r\n    //     canvas = new fabric.Canvas('c');\r\n    //     // setTimeout(() => {\r\n    //     canvas.backgroundColor = 'red';\r\n    //     canvas.width = 555;\r\n    //     canvas.height = 555;\r\n    //     canvas.renderAll();\r\n    //     //  console.log('Event fireeeee')\r\n    //     //}, 5000);\r\n    //     // setCanvas(canvasData)\r\n\r\n    // }, [canvasData]);\r\n\r\n    // setTimeout(() => {\r\n    //     setCanvasData(1)\r\n    // }, 2000);\r\n\r\n    // if (is_login === 0) {\r\n    //     return <Redirect to=\"/login\" />\r\n    // }\r\n    console.log('canvas=>', canvas)\r\n    return (\r\n        <>\r\n\r\n            <div className=\"container-fluid\">\r\n                <div className=\"row\">\r\n                    <div className=\"col-3\">\r\n                        <LeftSidebar />\r\n                    </div>\r\n                    <div className=\"col-6\">\r\n                        <Content setGlobal={(g) => setGlobal(g)} id=\"canvas\" />\r\n                    </div>\r\n                    <div className=\"col-3\">\r\n                        <RigjhtSidebar canvasRef={canvas} />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n        </>\r\n    )\r\n}\r\n\r\nexport default DesignMain","import { useEffect, useState, useRef } from 'react';\r\nimport { fabric } from 'fabric';\r\nimport Rectangle from './elements/Rectangle';\r\nimport { useGlobal, GlobalContext } from '../config/global';\r\nimport $ from 'jquery'\r\n\r\nconst Content = ({ ...props }) => {\r\n\r\n    const contextType = GlobalContext;\r\n    const { setGlobal, valGlobal } = useGlobal();\r\n    //  const [canvas, setCanvas] = useState('');\r\n    //  const canvasRef = useRef();\r\n    //  const fabricRef = useRef();\r\n\r\n    useEffect(() => {\r\n        const can = new fabric.Canvas('canvas', {\r\n            width: $('.canvas-main').width(),\r\n            height: $('.canvas-main').width(),\r\n            //  selection: false, // disables drag-to-select\r\n            backgroundColor: 'white',\r\n\r\n        });\r\n\r\n        //  console.log(\"aaaaaaaaa =>\", valGlobal)\r\n\r\n        setGlobal({ ...valGlobal, canvas: can })\r\n        // fabricRef.current = canvas;\r\n        // initCanvas({ canvas });\r\n    }, []);\r\n\r\n\r\n\r\n\r\n    return (\r\n        <div className=\"text-center canvas-main\">\r\n            <canvas id=\"canvas\" >\r\n            </canvas>\r\n        </div >\r\n    );\r\n};\r\n\r\nexport default Content;"],"sourceRoot":""}